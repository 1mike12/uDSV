/*! https://github.com/leeoniya/uCSV (v0.1.0) */
var uCSV=function(e){"use strict";const t='"';function l(e,l,n,s){let i=l.cols.delim,r=l.rows.delim,f=s||l.cols.names.length,c=!(!s||!n),o=r.length;if(!l.quote){let t=[],l=0,s=-1;for(;(s=e.indexOf(r,l))>-1&&(t.push(e.slice(l,s).split(i)),l=s+o,t.length!==n););return t}let u=r[0],h=i[0];const a=c?RegExp(`[^${i}${r}]+`,"my"):null;let d=0,g=0,m=e.length-1,x=[],p="",y=Array(f),O=0,A=f-1;for(;m>=g;){let l=e[g];if(0===d)if(l===t)d=2,g+=1;else if(l===h||l===u){if(y[O]=p,O+=1,g+=1,p="",l===u){if(x.push(y),n&&x.length===n)return x;y=Array(f),O=0,g+=o-1}}else d=1;else if(2===d)if(l===t)e[g+1]===t?(p+='"',g+=2):(d=0,g+=1);else{let l=e.indexOf(t,g);p+=e.slice(g,l),g=l}else if(1===d)if(l===h||l===u){if(y[O]=p,O+=1,g+=1,p="",l===u){if(x.push(y),n&&x.length===n)return x;y=Array(f),O=0,g+=o-1}d=0}else if(c){a.lastIndex=g;let t=a.exec(e)[0];p+=t,g+=t.length}else{let t;O===A?(t=e.indexOf(r,g),-1===t&&(t=e.length)):t=e.indexOf(i,g),p+=e.slice(g,t),g=t}}return y[O]=p,x.push(y),x}return e.parse=function(e,t,n){return l(e,t,n)},e.schema=function(e){const n=e.match(/(.*)(\r?\n?)/),s=n[1],i=n[2],r=s.indexOf("\t")>-1?"\t":s.indexOf("|")>-1?"|":s.indexOf(";")>-1?";":",",f={quote:e.indexOf('"')>-1?t:"",cols:{delim:r,names:[],types:[]},rows:{delim:i}},c=s.match(RegExp(r,"g")).length+1,o=l(e,f,10,c),u=Object.keys(o.shift());return f.cols.names=u,f.cols.types=Array(u.length).fill("s"),o.forEach((e=>{e.forEach(((e,t)=>{Number.isNaN(+e)||(f.cols.types[t]="n")}))})),f},e}({});
