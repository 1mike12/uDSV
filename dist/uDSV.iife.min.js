/*! https://github.com/leeoniya/uDSV (v0.1.0) */
var uDSV=function(e){"use strict";const l=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d{3,})?(?:Z|[-+]\d{2}:?\d{2})$/,t=/^(?:t(?:rue)?|f(?:alse)?|y(?:es)?|n(?:o)?|0|1)$/i,n=["\t","|",";",","],r="d",i="n",s="j",u="b";function c(e,l){let{type:t}=l,n=`r[${e}]`,c=t===r?`new Date(${n})`:t===s?`JSON.parse(${n})`:t===i?"+"+n:t[0]===u?`${n} === '${t.slice(2)}' ? true : false`:n,{repl:o}=l;return`${void 0!==o.empty?`${n} === '' ? ${o.empty} : `:""} ${void 0!==o.null?`${n} === 'null' || ${n} === 'NULL' ? ${o.null} : `:""} ${void 0!==o.NaN&&t===i?`${n} === 'NaN' ? ${o.NaN} : `:""} ${c}`}const o=/\w+(?:\[|\]?[\.\[]?|$)/gm;function f(e,l=!1,t=!1){let n="";if(l&&t){let l={},t=0,r=e.map((e=>e.name));do{let e=r.shift(),n=/\s/.test(e)?[e]:[...e.matchAll(o)].flatMap((e=>e.map((e=>e.replace("]",""))))),i=l;do{let e=n.shift(),l=e,r=e.at(-1);"."==r||"["==r?(l=e.slice(0,-1),i=i[l]=i[l]??("."==r?{}:[])):i[l]=`¦${t}¦`}while(n.length>0);t++}while(r.length>0);n=JSON.stringify(l).replace(/"¦(\d+)¦"/g,((l,t)=>c(+t,e[+t])))}else!l&&e.every((e=>"s"===e.type))?n="r":(n=l?"{":"[",e.forEach(((e,t)=>{n+=l?`"${e.name.replaceAll('"','\\"')}":`:"";let r=c(t,e);n+=r+","})),n+=l?"}":"]");return Function("rows",` let arr = Array(rows.length); for (let i = 0; i < rows.length; i++) { let r = rows[i]; arr[i] = ${n}; } return arr; `)}function a(e,l,t,n=0,r=!0,i=1e3,s=null,u=null){let{row:c,col:o,encl:f,esc:a,trim:h}=l,d=u||l.cols.length,p=null!=s,g=null!=u&&p,$=c.length,m=o.length,y=0,A=0,N=e.length-1,w=0,k=[],C=Array(d).fill(""),O=C.slice(),b=0,x=d-1,v=-1;if(""===f){for(;N>=A;)if(b===x){let l=e.indexOf(c,A);if(-1===l){if(!r)break;l=N+1}let u=e.slice(A,l);if(O[b]=h?u.trim():u,0>--n&&k.push(O),k.length===i){let e=!1===t(k,"");if(k=[],e||p&&++y===s)return}O=C.slice(),b=0,v=-1,A=l+$,w=A}else{let l=e.indexOf(o,A);if(-1===l&&!r)break;let t=e.slice(A,l);O[b]=h?t.trim():t,A=l+m,v=b++}return void(r&&0>=k.length||t(k,r?"":e.slice(w)))}let E=f.charCodeAt(0),S=a.charCodeAt(0),L=c.charCodeAt(0),T=o.charCodeAt(0);const j=g?RegExp(`[^${o}${c}]+`,"my"):null;let R,Y=0,D="";for(;N>=A;){if(R=e.charCodeAt(A),0===Y)if(R===E){if(Y=2,A+=1,A>N)break;R=e.charCodeAt(A)}else if(R===T||R===L){if(O[b]=D,v=b,b+=1,A+=1,D="",R===L){if(g&&x>v&&0===k.length&&(O.length=C.length=v+1,x=v),0>--n&&k.push(O),k.length===i){let e=!1===t(k,"");if(k=[],e||p&&++y===s)return}O=C.slice(),b=0,v=-1,A+=$-1,w=A}if(A>N)break;R=e.charCodeAt(A)}else{if(h&&32===R){for(;32===R;)R=e.charCodeAt(++A);continue}Y=1}if(2===Y)for(;;)if(R===S){if(A+1>N){A=N+1;break}if(e.charCodeAt(A+1)!==E){Y=0,A+=1;break}if(D+=f,A+=2,A>N){A=N+1;break}R=e.charCodeAt(A)}else{let l=e.indexOf(f,A);if(-1===l){A=N+1;break}D+=e.slice(A,l),A=l,R=E}else if(1===Y)if(R===T||R===L){if(O[b]=D,v=b,b+=1,A+=1,D="",R===L){if(g&&x>v&&0===k.length&&(O.length=C.length=v+1,x=v),0>--n&&k.push(O),k.length===i){let e=!1===t(k,"");if(k=[],e||p&&++y===s)return}O=C.slice(),b=0,v=-1,A+=$-1,w=A}Y=0}else if(g){j.lastIndex=A;let l=j.exec(e)[0];D+=l,A+=l.length}else{let l=e.indexOf(b===x?c:o,A);-1===l&&(l=N+1);let t=e.slice(A,l);D+=h?t.trim():t,A=l}}r&&b===x&&(O[b]=D,0>--n&&k.push(O),Y=0),t(k,r||0===Y&&!(-1===v?""!==D:x>v)?"":e.slice(w))}return e.inferSchema=function(e,c,o){let{header:f,col:h,row:d,encl:p,esc:g,trim:$=!1}=c??{};f??=e=>[e[0]],o??=10;const m=RegExp(`(.*)(${d??"\r\n|\r|\n"})`),y=e.match(m),A=y[1];d??=y[2],h??=n.find((e=>A.indexOf(e)>-1))??"",p??=e.indexOf('"')>-1?'"':"",g??=p;const N={skip:1,col:h,row:d,encl:p,esc:g,trim:$,cols:[]},w=A.split(h).length,k=[];a(e,N,(e=>{k.push(...e)}),0,!0,o,1,w);let C=f(k)??[],O=N.skip=C.length,b=C.find((e=>null!=e))??[...Array(k[0].length).keys()];return k.splice(0,O),b.forEach(((e,n)=>{let c=function(e,n){let c=n.findLast((l=>""!==l[e]&&"null"!==l[e]&&"NULL"!==l[e]&&"NaN"!==l[e])),o="s";if(null!=c){let n=c[e];o=l.test(n)?r:+n==+n?i:t.test(n)?u+":"+function(e){let[l,t=""]=e;return"1"==l||"0"==l?"1":"t"==l||"f"==l?""==t?"t":"true":"T"==l||"F"==l?""==t?"T":"R"==t||"A"===t?"TRUE":"True":"y"==l||"n"==l?""==t?"y":"yes":"Y"==l||"N"==l?""==t?"Y":"E"==t||"O"===t?"YES":"Yes":""}(n):function(e){if("["===e[0]||"{"===e[0])try{return JSON.parse(e),!0}catch{}return!1}(n)?s:o}return o}(n,k);N.cols.push({name:e,type:c,repl:{empty:null,NaN:void 0,null:void 0}})})),N},e.initParser=function(e,l){let{skip:t,cols:n}=e,r=null,i=null,s=null,u=null,c=null,o=0,h=0,d=null,p=null,g="",$="",m=null;function y(){h=o=0,$=g="",d=p=m=null}let A=(e,l)=>{l(e)},N=()=>[],w=e=>{m.push(...e)};function k(n,r,i){let s=null;return(u,c=A)=>{s??=i(),m??=n();let f=m,d=0===h||2===h;return a(u,e,((e,l)=>{$=l;let t=c(s(e),r);return!1===t&&0!==h&&y(),t}),0===o?t:0,d,l),d&&(m=null),f}}const C=k(N,w,(()=>(r??=e=>e,r))),O=k(N,w,(()=>(i??=f(n,!1,!1),i))),b=k(N,w,(()=>(s??=f(n,!0,!1),s))),x=k(N,w,(()=>(u??=f(n,!0,!0),u))),v=k((()=>n.map((()=>[]))),(e=>{e.forEach(((e,l)=>{m[l].push(...e)}))}),(()=>(i??=f(n,!1,!1),c??=function(e){return Function("rows",` let cols = [${e.map((()=>"Array(rows.length)")).join(",")}]; for (let i = 0; i < rows.length; i++) { let r = rows[i]; ${e.map(((e,l)=>`cols[${l}][i] = r[${l}]`)).join(";")}; } return cols; `)}(n),e=>c(i(e)))));return{schema:e,stringArrs:C,typedArrs:O,typedObjs:b,typedDeep:x,typedCols:v,chunk(e,l=C,t=A){d??=l,p??=t;let n=null;return 1===h&&(n=d($+g,p),o++),g=e,h=1,n},end(){h=2;let e=d($+g,p);return y(),e}}},e}({});
